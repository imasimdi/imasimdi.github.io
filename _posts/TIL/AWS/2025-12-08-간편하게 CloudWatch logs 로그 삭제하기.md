---
layout: post
category: AWS
---

## **Retention 일시적으로 줄이기**

특정 시점 이전 전체를 삭제하고 싶을 때 적합하다. 삭제하고 싶은 기준 시점까지 오래된 로그만 남게 retention을 작은 값으로 설정하고, 그 시간이 지나면 retention보다 오래된 이벤트가 자동으로 삭제된다.

이후 다시 원래 retention 값으로 되돌리면 된다.

새로 쌓이는 로그만 적용되는 것이 아니라, CloudWatch Logs retention 정책을 변경하면 기존 로그에도 **즉시 적용**되어서 설정한 일수보다 오래된 모든 로그 이벤트가 자동 삭제된다.

## **로그 스트림 단위로 삭제**

특정 기간에 대응하는 로그 스트림을 삭제할 수 있다. **`DeleteLogStream`** API 또는 콘솔에서 삭제를 진행하고, 스트림 생성 시간으로 오래된 스트림을 정렬할 수 있다.

## **로그 그룹 자체 삭제**

해당 로그 그룹 전체를 삭제해도 되는 경우 선택한다. 아예 없애버리면 나중에 후회할 수도 있기 때문에, 나는 S3로 수동으로 옮긴 후 삭제했다.
삭제하는데, 배치 작업 용 ec2를 생성하고, screen을 사용해서 작업을 했다. 자세한 건 여기서! [screen 맛보기](https://imasimdi.dev/etc/screen%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%B0%B0%EC%B9%98%EC%9E%91%EC%97%85-%ED%95%98%EA%B8%B0)